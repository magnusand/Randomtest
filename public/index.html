<!DOCTYPE html>
<html>
  <head>
    <title>I public</title>
    <!-- reference to the React library -->
      <script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
    <!-- Babel turns JSX to javascript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <!-- link to stylesheet -->
    <link rel="style<sheet" type="text/css" href="style.css">
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
  </head>
  <body>
    <div id="container"></div>
        <script type="text/babel">

            var SubmitNum = React.createClass ({

                buttonClicked: function(newUsername) {
                    var database = firebase.database();
                    var ref = database.ref('user');

                    var data = {
                        name: this.refs.usernameInput.value
                    }

                    ref.push(data);
                },

                render: function() {
                    return (
                        <div>
                            <input 
                                ref = "usernameInput"
                                type = "text"/>
                            <button onClick={this.buttonClicked}>Ready</button>
                        </div>
                    );
                }
            });


            var User = React.createClass({
                render: function() {
                    var letterStyle = {
                        padding: 10,
                        margin: 10,
                        backgroundColor: this.props.bgcolor,
                        color: "#333",
                        display: "inline-block",
                        fontFamily: "monospace",
                        fontSize: 32,
                        textAlign: "center"
                    };

                    return (
                        <div style={letterStyle}>
                            {this.props.children}
                        </div>
                    );
                }
            });
     
            var destination = document.querySelector("#container");
     
            ReactDOM.render(
                <div>
                    <User bgcolor="#58B3FF">Marius</User>
                    <User bgcolor="#FF605F">Alexander</User>
                    <User bgcolor="#FFD52E">Magnus</User>
                    <User bgcolor="#49DD8E">Vebj√∏rn</User>
                    <User bgcolor="#AE99FF">Drithling</User>
                    <br/>
                    <h3>Experiment Key:</h3>
                    <SubmitNum />
                </div>,
                destination
            );
            
        </script>

    
    <script>

  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA6ll2lfKu0gxOcnlfqb54IRNLaRUUil8Q",
    authDomain: "randtest-e8199.firebaseapp.com",
    databaseURL: "https://randtest-e8199.firebaseio.com",
    storageBucket: "randtest-e8199.appspot.com",
    messagingSenderId: "109752125195"
  };
  firebase.initializeApp(config); 
  console.log(firebase);
    </script> 
  </body> 
</html>

